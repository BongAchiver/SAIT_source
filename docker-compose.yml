services:
  sait-chat:
    build: .
    container_name: sait-chat
    restart: unless-stopped
    ports:
      - "3000:3000"
    environment:
      PORT: 3000
      DB_PATH: /app/data/chat.db
      LOGIN_PASSWORD: ${LOGIN_PASSWORD}
      JWT_SECRET: ${JWT_SECRET}
      OPENAI_API_KEY: ${OPENAI_API_KEY}
      GEMINI_API_KEY: ${GEMINI_API_KEY}
      OPENAI_MODEL: ${OPENAI_MODEL}
      MAX_ATTACHMENT_MB: ${MAX_ATTACHMENT_MB}
      JSON_LIMIT: ${JSON_LIMIT}
      HISTORY_LIMIT: ${HISTORY_LIMIT}
      HISTORY_LIMIT_MAX: ${HISTORY_LIMIT_MAX}
      WS_FLUSH_MS: ${WS_FLUSH_MS}
    volumes:
      - sait_data:/app/data

volumes:
  sait_data:
